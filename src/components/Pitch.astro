---
import PlayersLeft from './PlayersLeft.astro'
import PlayersRight from './PlayersRight.astro'
import Ball from './Ball.astro'
import TrainingObjects from './TrainingObjects.astro'

export interface Props {
  title?: string
}

const { title } = Astro.props
---

<script type="module" src="src/scripts/ComplicatedDraw.js"></script>
<script type="module" src="src/scripts/ColorPicker.js"></script>
<script type="module" src="src/scripts/Drag.js"></script>
<script type="module" src="src/scripts/screenshot.js"></script>

<>
  <div class="flex justify-center mt-5 mb-5">
    <div class="flex flex-col items-center justify-center">
      <div class="ml-8 mr-8">
        <label for="screenshot" class="font-medium text-gray-500 text-lg"
          >Name & take a screenshot</label
        >
        <div class="flex mt-2 mb-4">
          <div class="relative w-full">
            <input
              type="text"
              class="block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-r-lg rounded-l-lg border-l-gray-100 border-l-2 border border-gray-300"
              placeholder="Name"
              required
              id="screenshotname"
              value=""
            />
            <button
              id="screenshotbutton"
              class="absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-green-700 rounded-r-lg border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5 fill-white"
                viewBox="0 0 512 512"
                ><path
                  d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 384c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96z"
                ></path></svg
              >
            </button>
          </div>
        </div>
      </div>

      <div class="z-20" id="screenshot">
        <div>
          <img
            src="/FootballPitch.svg"
            class="mx-auto absolute z-1;"
            draggable="false"
            width="854"
            height="500"
            id="pitch"
          />
          <canvas
            id="canvas"
            class="border-2 border-black border-solid relative z-10"
          >
          </canvas>
        </div>
        <div
          class="mt-3 w-full justify-between grid grid-cols-3 row-auto gap-5 mb-5"
        >
          <div class="grid grid-cols-3 w-40">
            <div class="">
              <PlayersLeft Amount={[11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]} />
            </div>
            <div class="">
              <PlayersRight Amount={[11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]} />
            </div>
            <div class="p-2">
              <Ball />
            </div>
            <div id="trainingcomponent">
              <TrainingObjects client:visible />
            </div>
          </div>
          <div
            id="colors"
            class="grid grid-rows-2 grid-cols-4 gap-1 justify-self-end mr-9"
          >
            <button id="black" class="bg-black setting"></button>
            <button class="bg-red-500 setting"></button>
            <button class="bg-green-500 setting"></button>
            <button class="bg-blue-500 setting"></button>
            <button class="bg-white setting"></button>
            <button class="bg-yellow-500 setting"></button>
            <button class="bg-orange-500 setting"></button>
            <button class="bg-violet-500 setting"></button>
          </div>
          <div
            id="settings"
            class="grid grid-rows-2 grid-cols-5 gap-1 justify-self-end"
          >
            <button id="select" class="setting tool">
              <img src="/cursor.svg" alt="select" />
            </button>
            <button id="pen" class="setting tool">
              <img src="/pen.svg" alt="pen" />
            </button>
            <button id="small" class="setting size">
              <img src="/small.svg" alt="small" />
            </button>
            <button id="medium" class="setting size">
              <img src="/medium.svg" alt="medium" />
            </button>
            <button id="big" class="setting size">
              <img src="/big.svg" alt="big" />
            </button>
            <button id="path" class="setting tool">
              <img src="/path.svg" alt="path" />
            </button>
            <button id="polygon" class="setting tool">
              <img src="/polygon.svg" alt="polygon" />
            </button>
            <button id="rect" class="setting tool">
              <img src="/square.svg" alt="square" />
            </button>
            <button id="arrow" class="setting tool">
              <img src="/Arrow.svg" alt="square" />
            </button>
            <button id="clear" class="setting">
              <img src="/clear.svg" alt="clear" />
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</>
<style>
  .draggable {
    cursor: move;
    user-select: none;
  }
</style>
